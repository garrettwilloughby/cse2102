import{_,o as h,c as f,a as o,p as v,b as w}from"./index-e17482e7.js";const g="https://zdofbsyu1g.execute-api.us-east-1.amazonaws.com/test",b={methods:{async fetchData(s,e){console.log("fetching");const a=await fetch(`${g}?username=${s}`);if(a.ok){const i=await a.json(),t=JSON.parse(i.body),r=t.Items[0].username.S,n=t.Items[0].password.S,l=t.Items[0].schoolRole.S,c=t.Items[0].courses.L,d=t.Items[0].firstName.S,u=t.Items[0].lastName.S,m=t.Items[0].currentCredits.N,p=t.Items[0].totalCredits.N;this.loginParams={username:s,password:e,courses:c,role:l,last:u,first:d,currentCredits:m,totalCredits:p},n==e&&r==s?(l=="student"?this.$router.push("/studentLand"):l=="instructor"?this.$router.push("/instructorLand"):this.$router.push("/adminLand"),this.$store.commit("setLoginParams",this.loginParams)):(alert("Incorrect username or password."),this.$refs.username.value="",this.$refs.password.value="")}else throw new Error("HTTP error!")},submit:function(s){let e=document.getElementsByName("username")[0],a=document.getElementsByName("password")[0];if(e.value=="")alert("Please do not leave username field blank.");else if(a.value=="")alert("Please do not leave password field blank.");else return console.log("Submitted"),console.log([e.value,a.value]),this.fetchData(e.value,a.value)}}},I=s=>(v("data-v-bf983880"),s=s(),w(),s),S={class:"login"},$={class:"loginContainer"},y={class:"usernameDiv"},C={ref:"username",name:"username",class:"username",placeholder:"username"},L={class:"passwordDiv"},N={ref:"password",name:"password",type:"password",class:"password",placeholder:"password"},k={class:"buttons"},P=I(()=>o("strong",null,"Login",-1)),x=[P];function B(s,e,a,i,t,r){return h(),f("div",S,[o("div",$,[o("div",y,[o("input",C,null,512)]),o("div",L,[o("input",N,null,512)]),o("div",k,[o("a",{class:"button is-dark",onClick:e[0]||(e[0]=(...n)=>r.submit&&r.submit(...n))},x)])])])}const E=_(b,[["render",B],["__scopeId","data-v-bf983880"]]);export{E as default};
